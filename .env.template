# NovelGen 环境变量配置文件
# 复制此文件为 .env 并填入你的实际配置

# =================
# OpenAI API 配置
# =================

# 必需：OpenAI API Key
# 从 https://platform.openai.com/api-keys 获取
OPENAI_API_KEY=sk-your-api-key-here

# 可选：API 基础 URL（用于代理或其他兼容服务）
# OPENAI_API_BASE=https://api.openai.com/v1

# =================
# 默认模型配置
# =================

# 可选：默认使用的模型
# 推荐选项: gpt-4, gpt-4-turbo-preview, gpt-3.5-turbo
# OPENAI_MODEL_NAME=gpt-4

# 可选：默认温度参数 (0.0-2.0)
# 较低值 (0.0-0.3): 更确定性，适合结构化任务
# 中等值 (0.4-0.7): 平衡创造性和一致性
# 较高值 (0.8-1.5): 更具创造性，适合创意写作
# TEMPERATURE=0.7

# 可选：最大 token 数限制
# 控制单次请求的最大输出长度
# MAX_TOKENS=2000

# =================
# 链特定配置
# =================

# 以下配置允许为每个生成链单独设置参数
# 优先级高于默认模型配置

# -----------------
# 世界观生成链配置
# -----------------
# WORLD_CHAIN_MODEL_NAME=gpt-4o-mini
# WORLD_CHAIN_MAX_TOKENS=1000
# WORLD_CHAIN_TEMPERATURE=0.7
# WORLD_CHAIN_BASE_URL=https://api.openai.com/v1  # 支持不同模型供应商
# WORLD_CHAIN_API_KEY=sk-your-api-key-here       # 支持不同模型供应商的API密钥

# -----------------
# 主题冲突生成链配置
# -----------------
# THEME_CONFLICT_CHAIN_MODEL_NAME=gpt-3.5-turbo
# THEME_CONFLICT_CHAIN_MAX_TOKENS=500
# THEME_CONFLICT_CHAIN_TEMPERATURE=0.7
# THEME_CONFLICT_CHAIN_BASE_URL=https://api.openai.com/v1
# THEME_CONFLICT_CHAIN_API_KEY=sk-your-api-key-here

# -----------------
# 角色生成链配置
# -----------------
# CHARACTERS_CHAIN_MODEL_NAME=gpt-4o-mini
# CHARACTERS_CHAIN_MAX_TOKENS=2000
# CHARACTERS_CHAIN_TEMPERATURE=0.7
# CHARACTERS_CHAIN_BASE_URL=https://api.openai.com/v1
# CHARACTERS_CHAIN_API_KEY=sk-your-api-key-here

# -----------------
# 大纲生成链配置
# -----------------
# OUTLINE_CHAIN_MODEL_NAME=gpt-4o-mini
# OUTLINE_CHAIN_MAX_TOKENS=3000
# OUTLINE_CHAIN_TEMPERATURE=0.7
# OUTLINE_CHAIN_BASE_URL=https://api.openai.com/v1
# OUTLINE_CHAIN_API_KEY=sk-your-api-key-here

# -----------------
# 章节规划链配置
# -----------------
# CHAPTERS_PLAN_CHAIN_MODEL_NAME=gpt-3.5-turbo
# CHAPTERS_PLAN_CHAIN_MAX_TOKENS=1000
# CHAPTERS_PLAN_CHAIN_TEMPERATURE=0.7
# CHAPTERS_PLAN_CHAIN_BASE_URL=https://api.openai.com/v1
# CHAPTERS_PLAN_CHAIN_API_KEY=sk-your-api-key-here

# -----------------
# 场景文本生成链配置
# -----------------
# SCENE_TEXT_CHAIN_MODEL_NAME=gpt-4
# SCENE_TEXT_CHAIN_MAX_TOKENS=8000
# SCENE_TEXT_CHAIN_TEMPERATURE=0.7
# SCENE_TEXT_CHAIN_BASE_URL=https://api.openai.com/v1
# SCENE_TEXT_CHAIN_API_KEY=sk-your-api-key-here

# =================
# Embedding 模型配置
# =================

# Embedding模型名称（支持OpenAI兼容API）
# 
# OpenAI 官方选项:
#   text-embedding-3-small, text-embedding-3-large, text-embedding-ada-002
# 
# ModelScope/阿里云 DashScope 选项（推荐用于中文）:
#   bge-large-zh-v1.5, bge-base-zh-v1.5, text2vec-base-chinese
#
# 其他兼容服务: 根据你的API提供商文档
EMBEDDING_MODEL_NAME=text-embedding-3-small

# Embedding API密钥（如果不设置，将使用 OPENAI_API_KEY）
# EMBEDDING_API_KEY=sk-your-embedding-api-key-here

# Embedding API基础URL（如果不设置，将使用 OPENAI_API_BASE）
# 
# 示例配置：
#   OpenAI: https://api.openai.com/v1
#   ModelScope: https://api-inference.modelscope.cn/v1
#   阿里云: https://dashscope.aliyuncs.com/compatible-mode/v1
#   本地服务: http://localhost:8000/v1
# EMBEDDING_BASE_URL=https://api.openai.com/v1

# 可选：向量维度（某些模型支持自定义维度，如 text-embedding-3-small）
# EMBEDDING_DIMENSIONS=1536

# 可选：文本分块大小（字符数）
# EMBEDDING_CHUNK_SIZE=500

# 可选：文本分块重叠大小（字符数）
# EMBEDDING_CHUNK_OVERLAP=50

# =================
# 其他配置
# =================

# 可选：日志级别
# DEBUG, INFO, WARNING, ERROR
# LOG_LEVEL=INFO

# 可选：请求超时时间（秒）
# REQUEST_TIMEOUT=60

# 小说根修订政策 auto_apply->自动接受 | manual_confirm->手动调整
NOVELGEN_REVISION_POLICY=auto_apply

# =================
# Mem0 记忆层配置
# =================

# 启用 Mem0 记忆层（true/false）
# MEM0_ENABLED=true

# Mem0 LLM 配置（用于记忆处理）
# 如果不设置，将使用 OPENAI_MODEL_NAME
# MEM0_LLM_MODEL_NAME=gpt-4o-mini
# MEM0_LLM_API_KEY=sk-your-api-key-here
# MEM0_LLM_BASE_URL=https://api.openai.com/v1

# Mem0 请求超时和重试配置
# 请求超时时间（秒），默认 30
# MEM0_REQUEST_TIMEOUT=30

# 最大重试次数，默认 3
# MEM0_MAX_RETRIES=3

# 重试指数退避因子，默认 2.0
# 重试间隔计算: backoff_factor^attempt（例如: 1秒, 2秒, 4秒）
# MEM0_RETRY_BACKOFF_FACTOR=2.0
